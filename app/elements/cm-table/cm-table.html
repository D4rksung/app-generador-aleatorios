<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-item/paper-item.html">
<dom-module id="cm-table">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <template is="dom-repeat"
    items="[[rows]]"
    as="row">
    <paper-item>
      <template is="dom-repeat"
      items="[[columns]]"
      as="column">
        <span class$="[[_getColumnWidth(column.width)]]">[[_getValue(row,column)]]</span>  
      </template>
    </paper-item>
    </template>
  </template>
  <script>
    Polymer({
      is: 'cm-table',

      properties: {
        rows: {
          type: Array,
          value: [{
            'test':'abc',
            'test2':'abcdef'
          },
          {
            'test':'hij',
            'test2':'klmn'
          }
          ]
        },
        columns: {
          type: Array,
          value: [{'key':'test','width':5},{'key':'test2','width':6}]
        }
      },
      _getValue:function(row,column){
        return row[column.key];
      },
      _getColumnWidth:function(width){
        var style = 'flex'
        if(width){         
          return style+'-'+width;
        }
        return style;
      }
    })
  </script>
</dom-module>
